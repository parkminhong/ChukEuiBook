<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>축의금 관리 장부 (Wedding Gift Manager)</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    primary: {
                        50: '#EEF2FF',
                        100: '#E0E7FF',
                        500: '#6366F1',
                        600: '#4F46E5',
                        700: '#4338CA',
                        800: '#3730A3',
                        900: '#312E81'
                    }
                },
                fontFamily: {
                    'inter': ['Inter', 'Noto Sans KR', 'sans-serif']
                }
            }
        },
        darkMode: 'class'
    };
    </script>
    
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Heroicons -->
    <script src="https://unpkg.com/heroicons@2.0.18/24/outline/index.js" type="module"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;600;700&family=Noto+Sans+SC:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', 'Noto Sans KR', 'Noto Sans JP', 'Noto Sans SC', sans-serif;
        }
        
        .table-container {
            max-height: 50vh;
            overflow-y: auto;
        }
        
        .table-container::-webkit-scrollbar {
            width: 6px;
        }
        
        .table-container::-webkit-scrollbar-track {
            background: rgb(249 250 251);
        }
        
        .table-container::-webkit-scrollbar-thumb {
            background: rgb(156 163 175);
            border-radius: 3px;
        }
        
        .table-container::-webkit-scrollbar-thumb:hover {
            background: rgb(107 114 128);
        }
        
        .dark .table-container::-webkit-scrollbar-track {
            background: rgb(31 41 55);
        }
        
        .dark .table-container::-webkit-scrollbar-thumb {
            background: rgb(75 85 99);
        }
        
        .blurred-content {
            filter: blur(8px);
            transition: filter 0.3s ease-in-out;
            user-select: none;
            pointer-events: none;
        }
        
        .relationship-btn.selected {
            background-color: #4F46E5;
            color: white;
            border-color: #4F46E5;
        }
        
        .dark .relationship-btn.selected {
            background-color: #6366F1;
            border-color: #6366F1;
        }
        
        .action-btn:active {
            transform: scale(0.95);
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>

<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-300">
    <!-- @COMPONENT: MainContainer [full application wrapper] -->
    <div class="min-h-screen">
        <!-- Header with Language and Theme Controls -->
        <header class="bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <!-- Logo and Title -->
                    <div class="flex items-center space-x-4">
                        <div class="bg-primary-600 p-2 rounded-lg">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold text-gray-900 dark:text-white" data-translate="header.title">축의금 관리 장부</h1>
                            <p class="text-sm text-gray-500 dark:text-gray-400" data-translate="header.subtitle">Wedding Gift Manager</p>
                        </div>
                    </div>
                    
                    <!-- Controls -->
                    <div class="flex items-center space-x-4">
                        <!-- Language Selector -->
                        <div class="relative">
                            <select id="language-selector" class="bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 p-2 pr-8 appearance-none">
                                <option value="ko">한국어</option>
                                <option value="en">English</option>
                                <option value="ja">日本語</option>
                                <option value="zh">中文</option>
                            </select>
                            <svg class="absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </div>
                        
                        <!-- Theme Toggle -->
                        <button id="theme-toggle" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                            <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/>
                            </svg>
                            <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"/>
                            </svg>
                        </button>
                        
                        <!-- Blur Toggle -->
                        <button id="blur-toggle" title="민감한 정보 가리기/보기" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                            <svg id="blur-eye-open" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                            </svg>
                            <svg id="blur-eye-closed" class="hidden w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.542 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                
                <!-- @COMPONENT: InputForm [guest information input form] -->
                <!-- Left Sidebar: Input Form -->
                <div class="lg:col-span-1">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 sticky top-24">
                        <div class="flex items-center space-x-3 mb-6">
                            <div class="bg-primary-600 p-2 rounded-lg">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                </svg>
                            </div>
                            <h2 class="text-xl font-semibold text-gray-900 dark:text-white" data-translate="form.title">하객 정보 추가</h2>
                        </div>
                        
                        <form id="guest-form" class="space-y-6">
                            <!-- Name Input -->
                            <div>
                                <label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" data-translate="form.name">이름</label>
                                <input type="text" id="name" name="name" required 
                                       class="w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors text-gray-900 dark:text-white"
                                       placeholder="하객 이름을 입력하세요">
                            </div>
                            
                            <!-- Amount Input -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" data-translate="form.amount">금액</label>
                                <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 text-center border border-gray-200 dark:border-gray-600">
                                    <span id="current-amount-display" class="text-3xl font-bold text-primary-600 dark:text-primary-400" data-mock="true">0 원</span>
                                </div>
                                <div class="grid grid-cols-3 gap-3 mt-3">
                                    <button type="button" data-amount="10000" class="action-btn amount-btn bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium transition-all duration-200 text-sm">
                                        + 1만원
                                    </button>
                                    <button type="button" data-amount="50000" class="action-btn amount-btn bg-emerald-500 hover:bg-emerald-600 text-white py-3 rounded-lg font-medium transition-all duration-200 text-sm">
                                        + 5만원
                                    </button>
                                    <button type="button" id="reset-amount-btn" class="action-btn bg-gray-400 hover:bg-gray-500 text-white py-3 rounded-lg font-medium transition-all duration-200 text-sm">
                                        초기화
                                    </button>
                                </div>
                            </div>

                            <!-- Side Selection -->
                            <div>
                                <label for="side" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" data-translate="form.side">구분</label>
                                <select id="side" name="side" required 
                                        class="w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors text-gray-900 dark:text-white">
                                    <option value="신랑" data-translate="form.groom">신랑</option>
                                    <option value="신부" data-translate="form.bride">신부</option>
                                </select>
                            </div>
                            
                            <!-- Relationship Selection -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3" data-translate="form.relationship">관계</label>
                                <div id="relationship-icons" class="grid grid-cols-2 gap-3">
                                    <button type="button" data-relationship="친구" class="relationship-btn action-btn flex flex-col items-center p-4 border-2 border-gray-200 dark:border-gray-600 rounded-lg hover:border-primary-400 transition-all duration-200 bg-white dark:bg-gray-700">
                                        <svg class="w-8 h-8 mb-2 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                                        </svg>
                                        <span class="text-sm font-medium">친구</span>
                                    </button>
                                    <button type="button" data-relationship="직장" class="relationship-btn action-btn flex flex-col items-center p-4 border-2 border-gray-200 dark:border-gray-600 rounded-lg hover:border-primary-400 transition-all duration-200 bg-white dark:bg-gray-700">
                                        <svg class="w-8 h-8 mb-2 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 21h14a2 2 0 002-2v-7a2 2 0 00-2-2H5a2 2 0 00-2 2v7a2 2 0 002 2z"/>
                                        </svg>
                                        <span class="text-sm font-medium">직장</span>
                                    </button>
                                    <button type="button" data-relationship="가족/친척" class="relationship-btn action-btn flex flex-col items-center p-4 border-2 border-gray-200 dark:border-gray-600 rounded-lg hover:border-primary-400 transition-all duration-200 bg-white dark:bg-gray-700">
                                        <svg class="w-8 h-8 mb-2 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                                        </svg>
                                        <span class="text-sm font-medium">가족</span>
                                    </button>
                                    <button type="button" data-relationship="지인/기타" class="relationship-btn action-btn flex flex-col items-center p-4 border-2 border-gray-200 dark:border-gray-600 rounded-lg hover:border-primary-400 transition-all duration-200 bg-white dark:bg-gray-700">
                                        <svg class="w-8 h-8 mb-2 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                        </svg>
                                        <span class="text-sm font-medium">기타</span>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Ticket Count -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" data-translate="form.tickets">불출 식권 수</label>
                                <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 text-center border border-gray-200 dark:border-gray-600">
                                    <span id="current-tickets-display" class="text-3xl font-bold text-emerald-600 dark:text-emerald-400" data-mock="true">0 장</span>
                                </div>
                                <div class="grid grid-cols-3 gap-3 mt-3">
                                    <button type="button" data-tickets="1" class="action-btn ticket-btn bg-emerald-500 hover:bg-emerald-600 text-white py-3 rounded-lg font-medium transition-all duration-200 text-sm">
                                        + 1장
                                    </button>
                                    <button type="button" data-tickets="2" class="action-btn ticket-btn bg-emerald-500 hover:bg-emerald-600 text-white py-3 rounded-lg font-medium transition-all duration-200 text-sm">
                                        + 2장
                                    </button>
                                    <button type="button" id="reset-tickets-btn" class="action-btn bg-gray-400 hover:bg-gray-500 text-white py-3 rounded-lg font-medium transition-all duration-200 text-sm">
                                        초기화
                                    </button>
                                </div>
                            </div>

                            <!-- Memo -->
                            <div>
                                <label for="memo" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" data-translate="form.memo">메모</label>
                                <input type="text" id="memo" name="memo" 
                                       class="w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors text-gray-900 dark:text-white"
                                       placeholder="동반 하객, 특이사항 등">
                            </div>
                            
                            <!-- Submit Button -->
                            <button type="submit" id="add-guest-btn" class="w-full bg-primary-600 hover:bg-primary-700 text-white font-semibold py-4 px-6 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200 text-lg shadow-lg">
                                <span data-translate="form.submit">추가하기</span>
                            </button>
                        </form>
                    </div>
                </div>
                <!-- @END_COMPONENT: InputForm -->

                <!-- @COMPONENT: MainContent [data display area] -->
                <!-- Right Content: Data Display -->
                <div class="lg:col-span-2 space-y-8">
                    
                    <!-- @COMPONENT: GuestList [guest table and filtering] -->
                    <!-- Guest List -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6">
                        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                            <div class="flex items-center space-x-3">
                                <div class="bg-primary-600 p-2 rounded-lg">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                                    </svg>
                                </div>
                                <h2 class="text-xl font-semibold text-gray-900 dark:text-white" data-translate="list.title">하객 목록</h2>
                            </div>
                            
                            <div class="flex items-center space-x-3 w-full md:w-auto">
                                <div class="relative flex-1 md:w-64">
                                    <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                    </svg>
                                    <input type="search" id="search-box" placeholder="이름으로 검색..." 
                                           class="w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors text-gray-900 dark:text-white">
                                </div>
                                <button id="export-csv" title="엑셀(CSV) 파일로 내보내기" class="flex-shrink-0 bg-emerald-600 hover:bg-emerald-700 text-white p-2 rounded-lg transition-colors">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Filter Buttons -->
                        <div id="filter-buttons" class="flex flex-wrap gap-2 mb-6 pb-4 border-b border-gray-200 dark:border-gray-600">
                            <button data-filter="all" class="filter-btn bg-primary-600 text-white px-4 py-2 text-sm rounded-full font-medium transition-colors">
                                <span data-translate="filter.all">전체</span>
                            </button>
                            <button data-filter="groom" class="filter-btn bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 px-4 py-2 text-sm rounded-full font-medium transition-colors">
                                <span data-translate="filter.groom">신랑측</span>
                            </button>
                            <button data-filter="bride" class="filter-btn bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 px-4 py-2 text-sm rounded-full font-medium transition-colors">
                                <span data-translate="filter.bride">신부측</span>
                            </button>
                        </div>

                        <!-- Table -->
                        <div class="table-container">
                            <table class="w-full text-sm text-left">
                                <thead class="text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-700 sticky top-0">
                                    <tr>
                                        <th scope="col" class="px-4 py-3 font-semibold" data-translate="table.side">구분</th>
                                        <th scope="col" class="px-4 py-3 font-semibold" data-translate="table.name">이름</th>
                                        <th scope="col" class="px-4 py-3 font-semibold" data-translate="table.amount">금액</th>
                                        <th scope="col" class="px-4 py-3 font-semibold" data-translate="table.relationship">관계</th>
                                        <th scope="col" class="px-4 py-3 font-semibold" data-translate="table.tickets">식권</th>
                                        <th scope="col" class="px-4 py-3 font-semibold text-center" data-translate="table.actions">관리</th>
                                    </tr>
                                </thead>
                                <tbody id="guest-list" class="divide-y divide-gray-200 dark:divide-gray-600">
                                    <!-- @MAP: guests.map(guest => ( -->
                                    <tr class="bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors" data-mock="true">
                                        <td class="px-4 py-3">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200" data-bind="guest.side">신랑</span>
                                        </td>
                                        <td class="px-4 py-3 font-medium text-gray-900 dark:text-white" data-bind="guest.name">김철수</td>
                                        <td class="px-4 py-3 font-semibold text-primary-600 dark:text-primary-400" data-bind="guest.amount">50,000원</td>
                                        <td class="px-4 py-3 text-gray-500 dark:text-gray-400" data-bind="guest.relationship">친구</td>
                                        <td class="px-4 py-3 text-gray-500 dark:text-gray-400" data-bind="guest.tickets">2장</td>
                                        <td class="px-4 py-3 text-center">
                                            <button class="text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 transition-colors" data-event="click:deleteGuest">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                                </svg>
                                            </button>
                                        </td>
                                    </tr>
                                    <!-- @END_MAP )) -->
                                </tbody>
                            </table>
                        </div>
                        <p id="empty-message" class="hidden text-center text-gray-500 dark:text-gray-400 py-10" data-translate="list.empty">등록된 하객 정보가 없습니다.</p>
                    </div>
                    <!-- @END_COMPONENT: GuestList -->
                    
                    <!-- @COMPONENT: Statistics [summary statistics and charts] -->
                    <!-- Statistics and Charts -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        
                        <!-- Summary Statistics -->
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6">
                            <div class="flex items-center justify-between mb-6">
                                <div class="flex items-center space-x-3">
                                    <div class="bg-emerald-600 p-2 rounded-lg">
                                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                        </svg>
                                    </div>
                                    <h2 class="text-xl font-semibold text-gray-900 dark:text-white" data-translate="stats.title">종합 현황</h2>
                                </div>
                            </div>
                            
                            <div id="summary-content" class="space-y-4">
                                <div class="grid grid-cols-2 gap-4">
                                    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 text-center">
                                        <div class="text-2xl font-bold text-primary-600 dark:text-primary-400" id="total-guests" data-mock="true">12</div>
                                        <div class="text-sm text-gray-600 dark:text-gray-400" data-translate="stats.totalGuests">총 하객 수</div>
                                    </div>
                                    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 text-center">
                                        <div class="text-2xl font-bold text-emerald-600 dark:text-emerald-400" id="total-amount" data-mock="true">650,000원</div>
                                        <div class="text-sm text-gray-600 dark:text-gray-400" data-translate="stats.totalAmount">총 축의금</div>
                                    </div>
                                </div>
                                
                                <div class="border-t border-gray-200 dark:border-gray-600 pt-4">
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate="stats.groomSide">신랑측 총액:</span>
                                        <span id="groom-total" class="font-semibold text-blue-600 dark:text-blue-400" data-mock="true">350,000원</span>
                                    </div>
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate="stats.brideSide">신부측 총액:</span>
                                        <span id="bride-total" class="font-semibold text-pink-600 dark:text-pink-400" data-mock="true">300,000원</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm font-medium text-gray-600 dark:text-gray-400" data-translate="stats.totalTickets">총 식권 수:</span>
                                        <span id="total-tickets" class="font-semibold text-emerald-600 dark:text-emerald-400" data-mock="true">24장</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Chart -->
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6">
                            <div class="flex items-center space-x-3 mb-6">
                                <div class="bg-orange-600 p-2 rounded-lg">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"/>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"/>
                                    </svg>
                                </div>
                                <h2 class="text-xl font-semibold text-gray-900 dark:text-white" data-translate="chart.title">관계별 분포</h2>
                            </div>
                            
                            <div class="h-64 flex items-center justify-center">
                                <canvas id="relationship-chart" class="max-w-full max-h-full"></canvas>
                                <!-- @FUNCTIONALITY: This chart should display relationship distribution using Chart.js -->
                            </div>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: Statistics -->
                    
                    <!-- @COMPONENT: AdditionalCharts [expense and comparison charts] -->
                    <!-- Additional Charts -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        
                        <!-- Amount Distribution Chart -->
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6">
                            <div class="flex items-center space-x-3 mb-6">
                                <div class="bg-purple-600 p-2 rounded-lg">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"/>
                                    </svg>
                                </div>
                                <h2 class="text-xl font-semibold text-gray-900 dark:text-white" data-translate="chart.amountDistribution">금액대별 분포</h2>
                            </div>
                            
                            <div class="h-64 flex items-center justify-center">
                                <canvas id="amount-chart" class="max-w-full max-h-full"></canvas>
                                <!-- @FUNCTIONALITY: This chart should display amount distribution using Chart.js -->
                            </div>
                        </div>
                        
                        <!-- Side Comparison Chart -->
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6">
                            <div class="flex items-center space-x-3 mb-6">
                                <div class="bg-indigo-600 p-2 rounded-lg">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                    </svg>
                                </div>
                                <h2 class="text-xl font-semibold text-gray-900 dark:text-white" data-translate="chart.sideComparison">신랑/신부측 비교</h2>
                            </div>
                            
                            <div class="h-64 flex items-center justify-center">
                                <canvas id="side-chart" class="max-w-full max-h-full"></canvas>
                                <!-- @FUNCTIONALITY: This chart should display side comparison using Chart.js -->
                            </div>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: AdditionalCharts -->
                    
                </div>
                <!-- @END_COMPONENT: MainContent -->
            </div>
        </main>
    </div>
    <!-- @END_COMPONENT: MainContainer -->
    
    <script>
        // TODO: Implement multi-language translation system
        // TODO: Implement theme toggle functionality
        // TODO: Implement blur toggle functionality
        // TODO: Implement form submission and data management
        // TODO: Implement search and filtering
        // TODO: Implement CSV export functionality
        // TODO: Implement chart visualizations with Chart.js
        // TODO: Implement local storage for settings and data persistence
        
        (function() {
            // Translations object
            const translations = {
                ko: {
                    'header.title': '축의금 관리 장부',
                    'header.subtitle': 'Wedding Gift Manager',
                    'form.title': '하객 정보 추가',
                    'form.name': '이름',
                    'form.amount': '금액',
                    'form.side': '구분',
                    'form.groom': '신랑',
                    'form.bride': '신부',
                    'form.relationship': '관계',
                    'form.tickets': '불출 식권 수',
                    'form.memo': '메모',
                    'form.submit': '추가하기'
                },
                en: {
                    'header.title': 'Wedding Gift Manager',
                    'header.subtitle': 'Manage Wedding Gifts',
                    'form.title': 'Add Guest Information',
                    'form.name': 'Name',
                    'form.amount': 'Amount',
                    'form.side': 'Side',
                    'form.groom': 'Groom',
                    'form.bride': 'Bride',
                    'form.relationship': 'Relationship',
                    'form.tickets': 'Meal Tickets',
                    'form.memo': 'Memo',
                    'form.submit': 'Add Guest'
                }
                // TODO: Add Japanese and Chinese translations
            };
            
            // Initialize application state
            let currentLanguage = 'ko';
            let isDarkMode = false;
            let isBlurred = false;
            let currentAmount = 0;
            let currentTickets = 0;
            let selectedRelationship = '';
            let guests = [];
            
            // DOM elements
            const languageSelector = document.getElementById('language-selector');
            const themeToggle = document.getElementById('theme-toggle');
            const blurToggle = document.getElementById('blur-toggle');
            const guestForm = document.getElementById('guest-form');
            
            // Theme toggle functionality
            function initializeTheme() {
                const savedTheme = localStorage.getItem('theme') || 'light';
                isDarkMode = savedTheme === 'dark';
                updateTheme();
            }
            
            function updateTheme() {
                const html = document.documentElement;
                const darkIcon = document.getElementById('theme-toggle-dark-icon');
                const lightIcon = document.getElementById('theme-toggle-light-icon');
                
                if (isDarkMode) {
                    html.classList.add('dark');
                    darkIcon.classList.add('hidden');
                    lightIcon.classList.remove('hidden');
                } else {
                    html.classList.remove('dark');
                    darkIcon.classList.remove('hidden');
                    lightIcon.classList.add('hidden');
                }
                
                localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
            }
            
            // Language switching functionality
            function switchLanguage(lang) {
                currentLanguage = lang;
                updateTranslations();
                localStorage.setItem('language', lang);
            }
            
            function updateTranslations() {
                const elements = document.querySelectorAll('[data-translate]');
                elements.forEach(element => {
                    const key = element.getAttribute('data-translate');
                    if (translations[currentLanguage] && translations[currentLanguage][key]) {
                        element.textContent = translations[currentLanguage][key];
                    }
                });
            }
            
            // Amount and ticket counter functionality
            function updateAmountDisplay() {
                const display = document.getElementById('current-amount-display');
                display.textContent = `${currentAmount.toLocaleString()} 원`;
            }
            
            function updateTicketsDisplay() {
                const display = document.getElementById('current-tickets-display');
                display.textContent = `${currentTickets} 장`;
            }
            
            // Relationship selection functionality
            function updateRelationshipSelection(relationship) {
                selectedRelationship = relationship;
                const buttons = document.querySelectorAll('.relationship-btn');
                buttons.forEach(btn => {
                    btn.classList.remove('selected');
                    if (btn.getAttribute('data-relationship') === relationship) {
                        btn.classList.add('selected');
                    }
                });
            }
            
            // Blur functionality
            function toggleBlur() {
                isBlurred = !isBlurred;
                const sensitiveElements = document.querySelectorAll('#summary-content, #guest-list, .amount-display, .tickets-display');
                const eyeOpen = document.getElementById('blur-eye-open');
                const eyeClosed = document.getElementById('blur-eye-closed');
                
                sensitiveElements.forEach(element => {
                    if (isBlurred) {
                        element.classList.add('blurred-content');
                    } else {
                        element.classList.remove('blurred-content');
                    }
                });
                
                if (isBlurred) {
                    eyeOpen.classList.add('hidden');
                    eyeClosed.classList.remove('hidden');
                } else {
                    eyeOpen.classList.remove('hidden');
                    eyeClosed.classList.add('hidden');
                }
            }
            
            // Event listeners
            themeToggle.addEventListener('click', () => {
                isDarkMode = !isDarkMode;
                updateTheme();
            });
            
            languageSelector.addEventListener('change', (e) => {
                switchLanguage(e.target.value);
            });
            
            blurToggle.addEventListener('click', toggleBlur);
            
            // Amount button event listeners
            document.querySelectorAll('.amount-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const amount = parseInt(btn.getAttribute('data-amount'));
                    currentAmount += amount;
                    updateAmountDisplay();
                });
            });
            
            document.getElementById('reset-amount-btn').addEventListener('click', () => {
                currentAmount = 0;
                updateAmountDisplay();
            });
            
            // Ticket button event listeners
            document.querySelectorAll('.ticket-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const tickets = parseInt(btn.getAttribute('data-tickets'));
                    currentTickets += tickets;
                    updateTicketsDisplay();
                });
            });
            
            document.getElementById('reset-tickets-btn').addEventListener('click', () => {
                currentTickets = 0;
                updateTicketsDisplay();
            });
            
            // Relationship button event listeners
            document.querySelectorAll('.relationship-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const relationship = btn.getAttribute('data-relationship');
                    updateRelationshipSelection(relationship);
                });
            });
            
            // Form submission
            guestForm.addEventListener('submit', (e) => {
                e.preventDefault();
                // TODO: Implement form submission logic
                console.log('Form submitted');
            });
            
            // Initialize charts
            function initializeCharts() {
                // TODO: Initialize Chart.js charts with sample data
                console.log('Charts initialized');
            }
            
            // Initialize application
            function init() {
                initializeTheme();
                updateAmountDisplay();
                updateTicketsDisplay();
                
                // Load saved language
                const savedLanguage = localStorage.getItem('language') || 'ko';
                languageSelector.value = savedLanguage;
                switchLanguage(savedLanguage);
                
                initializeCharts();
            }
            
            // Start the application
            init();
        })();
    </script>
</body>
</html>